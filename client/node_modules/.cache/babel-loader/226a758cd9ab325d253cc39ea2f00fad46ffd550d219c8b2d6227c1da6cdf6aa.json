{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from\"../config/api\";import getFirstImage from\"../reusables/getImage\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Related(_ref){let{cat,current}=_ref;var[more,set_more]=useState([]);useEffect(()=>{api.get(\"/related?cat=\".concat(cat),{withCredentials:true,params:{lastArticleId:0}}).then(response=>{set_more(response.data.articles);console.log(\"article43\",response.data);}).catch(err=>{console.log(err);});},[cat]);return/*#__PURE__*/_jsx(_Fragment,{children:more.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\" mt-5 \",style:{borderTop:\"1px solid lightgrey\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row container pt-2 \",children:/*#__PURE__*/_jsx(\"h6\",{children:\"Related\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-md-flex \",children:more.map((article,index)=>{if(index<=5&&article.articleId!==current){return/*#__PURE__*/_jsx(RelatedPreview,{headline:article.articleHeadline,imgUrl:getFirstImage(article.articleBody),articleId:article.articleId,datePosted:article.articlePostingDate});}else{return/*#__PURE__*/_jsx(_Fragment,{});}})})]})});}function RelatedPreview(_ref2){let{headline,imgUrl,articleId,datePosted}=_ref2;const date=new Date(datePosted);const dateStr=new Intl.DateTimeFormat('en-US',{month:'long',day:'numeric',year:'numeric'}).format(date);return/*#__PURE__*/_jsxs(\"a\",{href:\"/sngl/\".concat(articleId),className:\"col-md-4 col-sm-12 d-flex flex-md-column text-decoration-none row-xs mb-3 gap-2 p-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-xs col-5 col-md-12\",style:{height:\"150px\"},children:/*#__PURE__*/_jsx(\"img\",{src:imgUrl,alt:\"\",className:\"object-fit-cover rounded\",style:{height:\"100%\",width:\"100%\"}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"fw-lighter\",style:{fontSize:\"14px\",color:\"grey\"},children:dateStr}),/*#__PURE__*/_jsx(\"h6\",{className:\"fw-lighter\",style:{fontSize:\"14px\",color:\"black\"},children:decodeURIComponent(headline).replace(/&apos;/g,\"'\")})]})]});}","map":{"version":3,"names":["React","useState","useEffect","api","getFirstImage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Related","_ref","cat","current","more","set_more","get","concat","withCredentials","params","lastArticleId","then","response","data","articles","console","log","catch","err","children","length","className","style","borderTop","map","article","index","articleId","RelatedPreview","headline","articleHeadline","imgUrl","articleBody","datePosted","articlePostingDate","_ref2","date","Date","dateStr","Intl","DateTimeFormat","month","day","year","format","href","height","src","alt","width","fontSize","color","decodeURIComponent","replace"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/components/more.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport api from \"../config/api\";\nimport getFirstImage from \"../reusables/getImage\";\n\nexport default function Related({cat,current}){\n   var [more,set_more]=useState([]);\n\n   useEffect(()=>{\n      api.get(`/related?cat=${cat}`,\n         {withCredentials:true,\n          params:{\n            lastArticleId:0\n          }\n         })\n      .then((response)=>{\n         set_more(response.data.articles);\n         console.log(\"article43\",response.data)\n      })\n      .catch((err)=>{\n         console.log(err);\n      })\n   },[cat])\n\n   return(\n      <>\n         {more.length>0\n           &&<div className=\" mt-5 \"\n               style={{borderTop:\"1px solid lightgrey\"}}\n               >\n               <div className=\"row container pt-2 \">\n                  <h6>Related</h6>\n               </div>\n\n               <div className=\"d-md-flex \" >\n               {\n                  more.map((article,index)=>{\n                     if(index <= 5 && article.articleId !== current){\n                           return <RelatedPreview headline={article.articleHeadline}  \n                              imgUrl={getFirstImage(article.articleBody)} \n                              articleId={article.articleId}\n                              datePosted = {article.articlePostingDate}\n                              />                \n                                                   \n                     }\n                     else{\n                        return <></>\n                     }\n                  })\n                  } \n               </div>\n            \n         </div>\n         }\n      </>\n   )\n    \n\n    \n}\n\n\nfunction RelatedPreview({headline,imgUrl,articleId,datePosted}){\n   const date = new Date(datePosted);\n   const dateStr =   new Intl.DateTimeFormat('en-US',{month:'long',day:'numeric',year:'numeric'}).format(date);\n\n   return <a href={`/sngl/${articleId}`} \n            className=\"col-md-4 col-sm-12 d-flex flex-md-column text-decoration-none row-xs mb-3 gap-2 p-2\">\n            <div className=\"container-xs col-5 col-md-12\"\n               style={{height:\"150px\"}}\n               >\n                  <img src={imgUrl} alt=\"\" className=\"object-fit-cover rounded\" \n                        style={{height:\"100%\",width:\"100%\"}}\n                  />\n\n            </div>\n\n             <div>\n               <h6 className=\"fw-lighter\" style={{fontSize:\"14px\",color:\"grey\"}}>{dateStr}</h6>\n               <h6 className=\"fw-lighter\" style={{fontSize:\"14px\",color:\"black\"}}>\n                  {decodeURIComponent(headline).replace(/&apos;/g,\"'\")}\n               </h6>\n            </div>  \n            \n\n         </a>\n\n\n}\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,CAACC,SAAS,KAAO,OAAO,CAC9C,MAAO,CAAAC,GAAG,KAAM,eAAe,CAC/B,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,cAAe,SAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAe,IAAd,CAACC,GAAG,CAACC,OAAO,CAAC,CAAAF,IAAA,CAC1C,GAAI,CAACG,IAAI,CAACC,QAAQ,CAAC,CAACf,QAAQ,CAAC,EAAE,CAAC,CAEhCC,SAAS,CAAC,IAAI,CACXC,GAAG,CAACc,GAAG,iBAAAC,MAAA,CAAiBL,GAAG,EACxB,CAACM,eAAe,CAAC,IAAI,CACpBC,MAAM,CAAC,CACLC,aAAa,CAAC,CAChB,CACD,CAAC,CAAC,CACJC,IAAI,CAAEC,QAAQ,EAAG,CACfP,QAAQ,CAACO,QAAQ,CAACC,IAAI,CAACC,QAAQ,CAAC,CAChCC,OAAO,CAACC,GAAG,CAAC,WAAW,CAACJ,QAAQ,CAACC,IAAI,CAAC,CACzC,CAAC,CAAC,CACDI,KAAK,CAAEC,GAAG,EAAG,CACXH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CACnB,CAAC,CAAC,CACL,CAAC,CAAC,CAAChB,GAAG,CAAC,CAAC,CAER,mBACGP,IAAA,CAAAE,SAAA,EAAAsB,QAAA,CACIf,IAAI,CAACgB,MAAM,CAAC,CAAC,eACVrB,KAAA,QAAKsB,SAAS,CAAC,QAAQ,CACrBC,KAAK,CAAE,CAACC,SAAS,CAAC,qBAAqB,CAAE,CAAAJ,QAAA,eAEzCxB,IAAA,QAAK0B,SAAS,CAAC,qBAAqB,CAAAF,QAAA,cACjCxB,IAAA,OAAAwB,QAAA,CAAI,SAAO,CAAI,CAAC,CACd,CAAC,cAENxB,IAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAF,QAAA,CAExBf,IAAI,CAACoB,GAAG,CAAC,CAACC,OAAO,CAACC,KAAK,GAAG,CACvB,GAAGA,KAAK,EAAI,CAAC,EAAID,OAAO,CAACE,SAAS,GAAKxB,OAAO,CAAC,CACzC,mBAAOR,IAAA,CAACiC,cAAc,EAACC,QAAQ,CAAEJ,OAAO,CAACK,eAAgB,CACtDC,MAAM,CAAEtC,aAAa,CAACgC,OAAO,CAACO,WAAW,CAAE,CAC3CL,SAAS,CAAEF,OAAO,CAACE,SAAU,CAC7BM,UAAU,CAAIR,OAAO,CAACS,kBAAmB,CACxC,CAAC,CAEX,CAAC,IACG,CACD,mBAAOvC,IAAA,CAAAE,SAAA,GAAI,CAAC,CACf,CACH,CAAC,CAAC,CAEA,CAAC,EAEP,CAAC,CAEP,CAAC,CAKT,CAGA,QAAS,CAAA+B,cAAcA,CAAAO,KAAA,CAAwC,IAAvC,CAACN,QAAQ,CAACE,MAAM,CAACJ,SAAS,CAACM,UAAU,CAAC,CAAAE,KAAA,CAC3D,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACJ,UAAU,CAAC,CACjC,KAAM,CAAAK,OAAO,CAAK,GAAI,CAAAC,IAAI,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK,CAAC,MAAM,CAACC,GAAG,CAAC,SAAS,CAACC,IAAI,CAAC,SAAS,CAAC,CAAC,CAACC,MAAM,CAACR,IAAI,CAAC,CAE3G,mBAAOrC,KAAA,MAAG8C,IAAI,UAAAtC,MAAA,CAAWoB,SAAS,CAAG,CAC5BN,SAAS,CAAC,qFAAqF,CAAAF,QAAA,eAC/FxB,IAAA,QAAK0B,SAAS,CAAC,8BAA8B,CAC1CC,KAAK,CAAE,CAACwB,MAAM,CAAC,OAAO,CAAE,CAAA3B,QAAA,cAErBxB,IAAA,QAAKoD,GAAG,CAAEhB,MAAO,CAACiB,GAAG,CAAC,EAAE,CAAC3B,SAAS,CAAC,0BAA0B,CACvDC,KAAK,CAAE,CAACwB,MAAM,CAAC,MAAM,CAACG,KAAK,CAAC,MAAM,CAAE,CACzC,CAAC,CAEH,CAAC,cAELlD,KAAA,QAAAoB,QAAA,eACExB,IAAA,OAAI0B,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAC4B,QAAQ,CAAC,MAAM,CAACC,KAAK,CAAC,MAAM,CAAE,CAAAhC,QAAA,CAAEmB,OAAO,CAAK,CAAC,cAChF3C,IAAA,OAAI0B,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAC4B,QAAQ,CAAC,MAAM,CAACC,KAAK,CAAC,OAAO,CAAE,CAAAhC,QAAA,CAC9DiC,kBAAkB,CAACvB,QAAQ,CAAC,CAACwB,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CACnD,CAAC,EACH,CAAC,EAGN,CAAC,CAGb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}