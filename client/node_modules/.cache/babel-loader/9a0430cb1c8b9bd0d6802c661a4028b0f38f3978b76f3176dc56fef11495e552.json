{"ast":null,"code":"import parser from\"html-react-parser\";import{v4 as uuidv4}from'uuid';import api from\"../config/api\";export function decodeString(str){return parser(decodeURIComponent(str).replace(/&apos;/g,\"'\").replace(/<p>/g,\"\").replace(/<\\/p>/g,\"\"));}export function updateHistory(path){if(path===\"\"){window.history.pushState({},'',\"/\");}else{window.history.pushState({},'',path);}}const getVisitorId=()=>{let visitorId=localStorage.getItem(\"visitorId\");if(!visitorId){visitorId=uuidv4();localStorage.setItem(\"visitorId\",visitorId);}return visitorId;};export async function logVisitor(path){const visitorId=getVisitorId();try{api.post('/visitor',{path,visitorId});}catch(e){console.log(\"Error logging visitor\");}};export async function uploadImageToCloud(imageSrc){if(imageSrc===null){return null;}var formData=new FormData();formData.append('file',imageSrc);formData.append('upload_preset',process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);console.log(\"the file\",formData);try{const res=await fetch(\"https://api.cloudinary.com/v1_1/\".concat(process.env.REACT_APP_CLOUDINARY_CLOUD__NAME,\"/image/upload/\"),{method:\"post\",body:formData});if(res.ok){let data;data=await res.json();if(data!==undefined){console.log(\"\\n secure_url\",data.secure_url);return data.secure_url;}}}catch(err){console.log(\"file upload err\",err);}}export function formatDateTime(date){date=new Date(date);let hours=date.getHours();let minutes=date.getMinutes();const ampm=hours>12?'pm':'am';hours=hours%12;hours=hours?hours:12;//convert hour '0' to 12\nminutes=minutes<10?'0'+minutes:minutes;const timeStr=hours+':'+minutes+' '+ampm;const dateStr=new Intl.DateTimeFormat('en-US',{month:'long',day:'numeric',year:'numeric'}).format(date);const dateTimeStr=dateStr+' at '+timeStr;return dateTimeStr;}export function getWindowWidth(){if(typeof window!=='undefined'){return window.innerWidth;}return 0;};","map":{"version":3,"names":["parser","v4","uuidv4","api","decodeString","str","decodeURIComponent","replace","updateHistory","path","window","history","pushState","getVisitorId","visitorId","localStorage","getItem","setItem","logVisitor","post","e","console","log","uploadImageToCloud","imageSrc","formData","FormData","append","process","env","REACT_APP_CLOUDINARY_UPLOAD_PRESET","res","fetch","concat","REACT_APP_CLOUDINARY_CLOUD__NAME","method","body","ok","data","json","undefined","secure_url","err","formatDateTime","date","Date","hours","getHours","minutes","getMinutes","ampm","timeStr","dateStr","Intl","DateTimeFormat","month","day","year","format","dateTimeStr","getWindowWidth","innerWidth"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/reusables/global.js"],"sourcesContent":["import parser from \"html-react-parser\";\nimport {v4 as uuidv4} from 'uuid'\nimport api from \"../config/api\";\n\nexport function decodeString(str){\n    return parser(decodeURIComponent(str)\n            .replace(/&apos;/g,\"'\")\n            .replace(/<p>/g,\"\")\n            .replace(/<\\/p>/g,\"\"))\n}\n\nexport function updateHistory(path){\n    if(path===\"\"){\n        window.history.pushState({},'',\"/\")\n    }\n    else{\n        window.history.pushState({},'',path)\n    }\n}\n\n\nconst getVisitorId = ()=>{\n    let visitorId = localStorage.getItem(\"visitorId\");\n    if(!visitorId){\n        visitorId = uuidv4();\n        localStorage.setItem(\"visitorId\",visitorId);\n    }\n\n    return visitorId;\n};\n\nexport async function logVisitor(path){\n    const visitorId = getVisitorId();\n    try{\n        api.post('/visitor',{path,visitorId});\n    }\n    catch(e){\n        console.log(\"Error logging visitor\");\n    }\n};\n\n\n\nexport async function uploadImageToCloud(imageSrc){\n    if(imageSrc===null){\n        return null;\n    }\n    var formData=new FormData();\n\n    formData.append('file',imageSrc);\n    formData.append('upload_preset',process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET);\n    console.log(\"the file\",formData)\n\n    try{\n        const res=await fetch(\n            `https://api.cloudinary.com/v1_1/${process.env.REACT_APP_CLOUDINARY_CLOUD__NAME}/image/upload/`,\n                    {\n                        method:\"post\",\n                        body:formData\n                    }\n            )\n        if(res.ok){\n            let data;\n            data  = await res.json()\n            if(data!== undefined){\n               \n                console.log(\"\\n secure_url\",data.secure_url)\n                return data.secure_url\n            }\n        }   \n       \n    }catch(err){\n        console.log(\"file upload err\",err);\n    }\n}\n\n\nexport function formatDateTime(date){\n    date = new Date(date);\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    const ampm = hours > 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12; //convert hour '0' to 12\n    minutes = minutes <  10 ? '0' + minutes : minutes;\n\n    const timeStr = hours + ':' + minutes + ' ' + ampm;\n    const dateStr =   new Intl.DateTimeFormat('en-US',{month:'long',day:'numeric',year:'numeric'}).format(date);\n    const dateTimeStr = dateStr + ' at ' + timeStr;\n\n\n    return dateTimeStr;\n\n  }\n\n\n  export function getWindowWidth () {\n    if (typeof window !== 'undefined') {\n      return window.innerWidth;\n    }\n    return 0;\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}