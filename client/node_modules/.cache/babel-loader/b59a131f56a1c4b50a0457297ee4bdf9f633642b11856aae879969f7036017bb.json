{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import api from\"../config/api\";import{decodeString,formatDateTime}from\"../reusables/global\";import{useNavigate}from\"react-router-dom\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faUser}from\"@fortawesome/free-solid-svg-icons\";import SessionEndedModal from\"../reusables/sessionEndedModal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminComments(){const[comments,setComments]=useState([]);const[isLoading,setIsLoading]=useState(false);const navigate=useNavigate();const[showSessionEndedModal,setShowSessionEndedModal]=useState(false);useEffect(()=>{function fetchAdminComments(){setIsLoading(true);api.get(\"/adminComments\",{withCredentials:true}).then(response=>{console.log(\"response\",response.data.comments);setComments(response.data.comments);setIsLoading(false);}).catch(e=>{setIsLoading(false);console.log(\"Error fetching admin data\",e);if(e.response.status===401){navigate('/');setShowSessionEndedModal(true);}});}fetchAdminComments();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container col-lg-10 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Comments\"}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-success \",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Loading...\"})})}),comments.length===0&&!isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"fw-lighter\",children:\"No Comment Yet\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:comments.map(comment=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 d-flex gap-3 border-bottom\",onClick:()=>navigate(\"/sngl/\".concat(comment.articleId,\"?scrollTo=comment\").concat(comment.commentId)),children:[/*#__PURE__*/_jsx(\"div\",{children:comment.commenterProfilePhoto!==null?/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\",height:\"50px\"},children:/*#__PURE__*/_jsx(\"img\",{src:comment.commenterProfilePhoto,className:\"rounded-circle w-100 h-100 object-fit-cover\",alt:\"\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle overflow-hidden\",style:{width:\"50px\",height:\"50px\",backgroundColor:\"grey\"},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUser,className:\"ic-light-grey rounded-circle w-100 h-100 pt-2\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\" d-flex flex-column gap-1\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:\"500\"},children:comment.userName.toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"\",style:{color:\"grey\",fontSize:\"13px\"},children:formatDateTime(comment.dateAdded)}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",style:{fontWeight:\"300\"},children:comment.comment}),/*#__PURE__*/_jsxs(\"div\",{className:\" d-flex gap-3 align-items-start\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"fw-lighter\",children:\"On: \"}),/*#__PURE__*/_jsx(\"h6\",{className:\"\",children:decodeString(comment.articleHeadline)})]})]})]});})})]}),/*#__PURE__*/_jsx(SessionEndedModal,{showSessionEndedModal:showSessionEndedModal,setShowSessionEndedModal:setShowSessionEndedModal})]});}","map":{"version":3,"names":["React","useState","useEffect","api","decodeString","formatDateTime","useNavigate","FontAwesomeIcon","faUser","SessionEndedModal","jsx","_jsx","jsxs","_jsxs","AdminComments","comments","setComments","isLoading","setIsLoading","navigate","showSessionEndedModal","setShowSessionEndedModal","fetchAdminComments","get","withCredentials","then","response","console","log","data","catch","e","status","className","children","length","map","comment","onClick","concat","articleId","commentId","commenterProfilePhoto","style","width","height","src","alt","backgroundColor","icon","fontWeight","userName","toUpperCase","color","fontSize","dateAdded","articleHeadline"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/pages/adminComments.jsx"],"sourcesContent":["\n import React,{useState,useEffect} from \"react\";\n import api from \"../config/api\";\n import { decodeString,formatDateTime } from \"../reusables/global\";\n import { useNavigate } from \"react-router-dom\";\n import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n import { faUser } from \"@fortawesome/free-solid-svg-icons\";\n import SessionEndedModal from \"../reusables/sessionEndedModal\";\n \n export default function AdminComments(){\n     const [comments, setComments] = useState([]);\n     const [isLoading, setIsLoading] = useState(false);\n     const navigate = useNavigate();\n     const [showSessionEndedModal, setShowSessionEndedModal] = useState(false);\n \n     useEffect(()=>{\n          function fetchAdminComments(){\n             setIsLoading(true);\n             api.get(\"/adminComments\",{withCredentials:true})\n                .then((response)=>{\n                     console.log(\"response\",response.data.comments)\n                     \n                     setComments(response.data.comments);\n                     setIsLoading(false);\n                })\n                .catch((e)=>{\n                 setIsLoading(false);\n                 console.log(\"Error fetching admin data\", e);\n                 if(e.response.status === 401){\n                     navigate('/');\n                     setShowSessionEndedModal(true);\n                 }\n                })\n         }\n         fetchAdminComments();\n     },[])\n \n     return <div className=\"container col-lg-10 \">\n \n         <div className=\"container mb-5\">\n             <h2>Comments</h2>\n             {\n                 isLoading &&\n                 <div className=\"d-flex justify-content-center\">\n                     <div className=\"spinner-border text-success \">\n                         <span className=\"sr-only\">Loading...</span>\n                     </div>\n                 </div>\n             }\n             {\n                 (comments.length===0 && !isLoading)\n                 ?<div className=\"d-flex justify-content-center\"><h5 className=\"fw-lighter\">No Comment Yet</h5></div>\n                 :<div className=\"mt-5\">\n                     {\n                         comments.map((comment)=>{\n                             return <div className={`pt-2 d-flex gap-3 border-bottom`}\n                                     onClick={()=>navigate(`/sngl/${comment.articleId}?scrollTo=comment${comment.commentId}`)}\n                                 >\n                             <div>\n                                 {\n                                     (comment.commenterProfilePhoto !== null)\n                                     ?<div style={{width:\"50px\",height:\"50px\"}}>                                                                                           \n                                         <img src={comment.commenterProfilePhoto}\n                                             className=\"rounded-circle w-100 h-100 object-fit-cover\"\n                                             alt=\"\"\n                                         />\n                                     </div>\n \n                                     :<div className=\"rounded-circle overflow-hidden\" \n                                         style={{width:\"50px\",height:\"50px\", backgroundColor:\"grey\"}}>\n                                         <FontAwesomeIcon icon={faUser} className=\"ic-light-grey rounded-circle w-100 h-100 pt-2\"/>\n                                     </div>\n                                 }\n                             </div>\n                             <div className=\" d-flex flex-column gap-1\">\n                                 <span style={{fontWeight:\"500\"}}>{comment.userName.toUpperCase()}</span>\n                 \n                                 <span className=\"\" style={{color:\"grey\",fontSize:\"13px\"}}>{formatDateTime(comment.dateAdded)}</span>\n                 \n                                 <p className=\"mt-3\" style={{fontWeight:\"300\"}}>{comment.comment}</p>\n \n                                 <div className=\" d-flex gap-3 align-items-start\">\n                                     <h6 className=\"fw-lighter\">On: </h6>\n                                     <h6 className=\"\" >{decodeString(comment.articleHeadline)}</h6>\n                                 </div>\n                                \n                             </div>\n                             \n                         </div>\n                         })\n                     }\n                 </div>\n             }\n        </div>\n                <SessionEndedModal showSessionEndedModal={showSessionEndedModal} setShowSessionEndedModal={setShowSessionEndedModal}/>\n \n \n     </div> \n }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}