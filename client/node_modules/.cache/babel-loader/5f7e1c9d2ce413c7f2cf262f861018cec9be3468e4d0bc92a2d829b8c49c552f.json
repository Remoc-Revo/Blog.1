{"ast":null,"code":"import React,{useContext,createContext,useState,useEffect}from\"react\";import api from\"./config/api\";import{jsx as _jsx}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext();export function UseUserContext(){return useContext(UserContext);}export function UserProvider(_ref){let{children}=_ref;const[user,setUser]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{if(user===null){setLoading(true);api.get('/user',{withCredentials:true}).then(response=>{setUser(response.data);setLoading(false);}).catch(err=>{console.log(err);setUser('unauthorized');setLoading(false);});}},[user,loading]);function contextLogin(user){setUser(user);}function contextLogout(){setUser(null);}return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user,loading,contextLogin,contextLogout},children:children});}","map":{"version":3,"names":["React","useContext","createContext","useState","useEffect","api","jsx","_jsx","UserContext","UseUserContext","UserProvider","_ref","children","user","setUser","loading","setLoading","get","withCredentials","then","response","data","catch","err","console","log","contextLogin","contextLogout","Provider","value"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/userContext.js"],"sourcesContent":["import React,{useContext, createContext, useState, useEffect} from \"react\";\nimport api from \"./config/api\";\n\nconst UserContext = createContext();\n\nexport function UseUserContext(){\n    return useContext(UserContext);\n}\n\n\nexport function UserProvider({children}){\n    const [user,setUser] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(()=>{\n        if(user === null ){\n            setLoading(true);\n\n            api.get('/user',{withCredentials:true})\n            .then((response)=>{\n                setUser(response.data);\n                setLoading(false);\n            })\n            .catch((err)=>{\n                console.log(err);\n                setUser('unauthorized');\n                setLoading(false);\n            })\n        }\n   },[user,loading])\n\n   function contextLogin(user){\n    setUser(user)\n   }\n\n   function contextLogout(){\n    setUser(null)\n   }\n\n   return(\n        <UserContext.Provider value={{user,loading,contextLogin,contextLogout}}>\n            {children}\n        </UserContext.Provider>\n   )\n    \n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAEC,UAAU,CAAEC,aAAa,CAAEC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC1E,MAAO,CAAAC,GAAG,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/B,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,MAAO,SAAS,CAAAO,cAAcA,CAAA,CAAE,CAC5B,MAAO,CAAAR,UAAU,CAACO,WAAW,CAAC,CAClC,CAGA,MAAO,SAAS,CAAAE,YAAYA,CAAAC,IAAA,CAAY,IAAX,CAACC,QAAQ,CAAC,CAAAD,IAAA,CACnC,KAAM,CAACE,IAAI,CAACC,OAAO,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACrC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAI,CACV,GAAGS,IAAI,GAAK,IAAI,CAAE,CACdG,UAAU,CAAC,IAAI,CAAC,CAEhBX,GAAG,CAACY,GAAG,CAAC,OAAO,CAAC,CAACC,eAAe,CAAC,IAAI,CAAC,CAAC,CACtCC,IAAI,CAAEC,QAAQ,EAAG,CACdN,OAAO,CAACM,QAAQ,CAACC,IAAI,CAAC,CACtBL,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,EAAG,CACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChBT,OAAO,CAAC,cAAc,CAAC,CACvBE,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACN,CACL,CAAC,CAAC,CAACH,IAAI,CAACE,OAAO,CAAC,CAAC,CAEjB,QAAS,CAAAW,YAAYA,CAACb,IAAI,CAAC,CAC1BC,OAAO,CAACD,IAAI,CAAC,CACd,CAEA,QAAS,CAAAc,aAAaA,CAAA,CAAE,CACvBb,OAAO,CAAC,IAAI,CAAC,CACd,CAEA,mBACKP,IAAA,CAACC,WAAW,CAACoB,QAAQ,EAACC,KAAK,CAAE,CAAChB,IAAI,CAACE,OAAO,CAACW,YAAY,CAACC,aAAa,CAAE,CAAAf,QAAA,CAClEA,QAAQ,CACS,CAAC,CAG/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}