{"ast":null,"code":"var _jsxFileName = \"/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/userContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, createContext, useState, useEffect } from \"react\";\nimport api from \"./config/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserContext = /*#__PURE__*/createContext();\nexport function UseUserContext() {\n  _s();\n  return useContext(UserContext);\n}\n_s(UseUserContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n_c = UseUserContext;\nexport function UserProvider({\n  children\n}) {\n  _s2();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (user === null) {\n      setLoading(true);\n      api.get('/user', {\n        withCredentials: true\n      }).then(response => {\n        setUser(response.data);\n        setLoading(false);\n      }).catch(err => {\n        console.log(err);\n        setUser('unauthorized');\n        setLoading(false);\n      });\n    }\n  }, [user, loading]);\n  function contextLogin(user) {\n    setUser(user);\n  }\n  function contextLogout() {\n    setUser(null);\n  }\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      loading,\n      contextLogin,\n      contextLogout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n_s2(UserProvider, \"BWgH5duT2zXjWnKrzPGoVrQ8QHY=\");\n_c2 = UserProvider;\nvar _c, _c2;\n$RefreshReg$(_c, \"UseUserContext\");\n$RefreshReg$(_c2, \"UserProvider\");","map":{"version":3,"names":["React","useContext","createContext","useState","useEffect","api","jsxDEV","_jsxDEV","UserContext","UseUserContext","_s","_c","UserProvider","children","_s2","user","setUser","loading","setLoading","get","withCredentials","then","response","data","catch","err","console","log","contextLogin","contextLogout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/userContext.js"],"sourcesContent":["import React,{useContext, createContext, useState, useEffect} from \"react\";\nimport api from \"./config/api\";\n\nconst UserContext = createContext();\n\nexport function UseUserContext(){\n    return useContext(UserContext);\n}\n\n\nexport function UserProvider({children}){\n    const [user,setUser] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(()=>{\n        if(user === null ){\n            setLoading(true);\n\n            api.get('/user',{withCredentials:true})\n            .then((response)=>{\n                setUser(response.data);\n                setLoading(false);\n            })\n            .catch((err)=>{\n                console.log(err);\n                setUser('unauthorized');\n                setLoading(false);\n            })\n        }\n   },[user,loading])\n\n   function contextLogin(user){\n    setUser(user)\n   }\n\n   function contextLogout(){\n    setUser(null)\n   }\n\n   return(\n        <UserContext.Provider value={{user,loading,contextLogin,contextLogout}}>\n            {children}\n        </UserContext.Provider>\n   )\n    \n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAEC,UAAU,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC1E,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC;AAEnC,OAAO,SAASO,cAAcA,CAAA,EAAE;EAAAC,EAAA;EAC5B,OAAOT,UAAU,CAACO,WAAW,CAAC;AAClC;AAACE,EAAA,CAFeD,cAAc;AAAAE,EAAA,GAAdF,cAAc;AAK9B,OAAO,SAASG,YAAYA,CAAC;EAACC;AAAQ,CAAC,EAAC;EAAAC,GAAA;EACpC,MAAM,CAACC,IAAI,EAACC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACrC,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAI;IACV,IAAGW,IAAI,KAAK,IAAI,EAAE;MACdG,UAAU,CAAC,IAAI,CAAC;MAEhBb,GAAG,CAACc,GAAG,CAAC,OAAO,EAAC;QAACC,eAAe,EAAC;MAAI,CAAC,CAAC,CACtCC,IAAI,CAAEC,QAAQ,IAAG;QACdN,OAAO,CAACM,QAAQ,CAACC,IAAI,CAAC;QACtBL,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,CACDM,KAAK,CAAEC,GAAG,IAAG;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChBT,OAAO,CAAC,cAAc,CAAC;QACvBE,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;IACN;EACL,CAAC,EAAC,CAACH,IAAI,EAACE,OAAO,CAAC,CAAC;EAEjB,SAASW,YAAYA,CAACb,IAAI,EAAC;IAC1BC,OAAO,CAACD,IAAI,CAAC;EACd;EAEA,SAASc,aAAaA,CAAA,EAAE;IACvBb,OAAO,CAAC,IAAI,CAAC;EACd;EAEA,oBACKT,OAAA,CAACC,WAAW,CAACsB,QAAQ;IAACC,KAAK,EAAE;MAAChB,IAAI;MAACE,OAAO;MAACW,YAAY;MAACC;IAAa,CAAE;IAAAhB,QAAA,EAClEA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAG/B;AAACrB,GAAA,CAnCeF,YAAY;AAAAwB,GAAA,GAAZxB,YAAY;AAAA,IAAAD,EAAA,EAAAyB,GAAA;AAAAC,YAAA,CAAA1B,EAAA;AAAA0B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}