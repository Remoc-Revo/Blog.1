{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useUserContext}from\"../userContext\";import{useNavigate}from\"react-router-dom\";import AdminNav from\"../navs/adminNav\";import AdminSidePanel from\"../components/adminSidePanel\";import AdminHome from\"./adminHome\";import AdminAllPosts from\"./adminAllPosts\";import AdminPostsCategories from\"./adminPostsCategories\";import AdminStats from\"./adminStats\";import AdminUsersDisplay from\"./adminUsersDisplay\";import ReadersHome from\"./readersHome\";import AdminComments from\"./adminComments\";import AdminSubscribersDisplay from\"./adminSubscribersDisplay\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminPanel(){const navigate=useNavigate();// var [userLevel,set_userLevel]=useState(0);\nconst{loading,user}=useUserContext();const[adminPanelSection,setAdminPanelSection]=useState(window.location.search);const[isSidePanelVisible,setIsSidePanelVisible]=useState(true);useEffect(()=>{function validateUser(){if(!loading&&user!=null){console.log(\"user context!!!!\",user);// set_userLevel(user.userLevel);\n}if(user==='unauthorized'||user.userLevel!==1){console.log(\"user current state: \",user);navigate('/login');}}validateUser();});useEffect(()=>{function handleWindowResize(){const newWidth=window.innerWidth;if(newWidth<992){setIsSidePanelVisible(false);}else{setIsSidePanelVisible(true);}}function hideSideNav(){if(window.innerWidth<992){setIsSidePanelVisible(false);}}handleWindowResize();window.addEventListener('resize',handleWindowResize);window.addEventListener('click',hideSideNav);return()=>{window.removeEventListener('resize',handleWindowResize);window.removeEventListener('click',hideSideNav);};},[]);const updateAdminPanelSection=adminPanelSection=>{setAdminPanelSection(adminPanelSection);console.log(\"location changes: \",adminPanelSection);};const toggleSideNav=()=>{setIsSidePanelVisible(!isSidePanelVisible);};return/*#__PURE__*/_jsx(\"div\",{children:adminPanelSection.includes(\"?adminPanel\")||adminPanelSection===\"\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AdminNav,{toggleSideNav:toggleSideNav,updateAdminPanelSection:updateAdminPanelSection}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex position-relative w-100\",style:{height:\"100vh\"},children:[isSidePanelVisible&&/*#__PURE__*/_jsx(AdminSidePanel,{updateAdminPanelSection:updateAdminPanelSection,toggleSideNav:toggleSideNav}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-absolute col-12 col-lg-9 col-xl-10 d-flex justify-content-center\",id:\"adminPanelMainContent\",style:{top:\"60px\"},children:[adminPanelSection===\"\"&&/*#__PURE__*/_jsx(AdminHome,{}),adminPanelSection===\"?adminPanel=stats\"&&/*#__PURE__*/_jsx(AdminStats,{}),(adminPanelSection===\"?adminPanel=posts\"||adminPanelSection===\"?adminPanel=posts/drafts\"||adminPanelSection.includes(\"?adminPanel=posts&category=\"))&&/*#__PURE__*/_jsx(AdminAllPosts,{updateAdminPanelSection:updateAdminPanelSection}),adminPanelSection===\"?adminPanel=posts/categories\"&&/*#__PURE__*/_jsx(AdminPostsCategories,{updateAdminPanelSection:updateAdminPanelSection}),adminPanelSection===\"?adminPanel=comments\"&&/*#__PURE__*/_jsx(AdminComments,{}),adminPanelSection===\"?adminPanel=users\"&&/*#__PURE__*/_jsx(AdminUsersDisplay,{}),adminPanelSection===\"?adminPanel=subscribers\"&&/*#__PURE__*/_jsx(AdminSubscribersDisplay,{})]})]})]}):/*#__PURE__*/_jsx(ReadersHome,{updateAdminPanelSection:updateAdminPanelSection})});}","map":{"version":3,"names":["React","useState","useEffect","useUserContext","useNavigate","AdminNav","AdminSidePanel","AdminHome","AdminAllPosts","AdminPostsCategories","AdminStats","AdminUsersDisplay","ReadersHome","AdminComments","AdminSubscribersDisplay","jsx","_jsx","jsxs","_jsxs","AdminPanel","navigate","loading","user","adminPanelSection","setAdminPanelSection","window","location","search","isSidePanelVisible","setIsSidePanelVisible","validateUser","console","log","userLevel","handleWindowResize","newWidth","innerWidth","hideSideNav","addEventListener","removeEventListener","updateAdminPanelSection","toggleSideNav","children","includes","className","style","height","id","top"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/pages/adminPanel.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\"\nimport { useUserContext } from \"../userContext\";\nimport { useNavigate} from \"react-router-dom\";\nimport AdminNav from \"../navs/adminNav\";\nimport AdminSidePanel from \"../components/adminSidePanel\";\nimport AdminHome from \"./adminHome\";\nimport AdminAllPosts from \"./adminAllPosts\";\nimport AdminPostsCategories from \"./adminPostsCategories\";\nimport AdminStats from \"./adminStats\";\nimport AdminUsersDisplay from \"./adminUsersDisplay\";\nimport ReadersHome from \"./readersHome\"; \nimport AdminComments from \"./adminComments\";\nimport AdminSubscribersDisplay from \"./adminSubscribersDisplay\";\n\nexport default function AdminPanel(){\n   const navigate = useNavigate();\n   // var [userLevel,set_userLevel]=useState(0);\n   const {loading,user} = useUserContext();\n   const [adminPanelSection,setAdminPanelSection] = useState(window.location.search);\n   const [isSidePanelVisible, setIsSidePanelVisible] = useState(true);\n\n   useEffect(()=>{\n       function validateUser(){\n           if(!loading && user != null){\n               console.log(\"user context!!!!\",user);\n               // set_userLevel(user.userLevel);\n             }\n             \n             if(user === 'unauthorized' || user.userLevel !== 1){\n               console.log(\"user current state: \",user);\n               navigate('/login')\n           }\n       }\n      \n   \n       validateUser();           \n   })\n\n   useEffect(()=>{\n       function handleWindowResize(){\n           const newWidth = window.innerWidth\n\n           if(newWidth < 992){\n               setIsSidePanelVisible(false);\n           }\n           else{\n               setIsSidePanelVisible(true);\n           }\n       }\n\n       function hideSideNav(){\n           if(window.innerWidth < 992){\n               setIsSidePanelVisible(false);\n           }\n       }\n\n       handleWindowResize();\n\n       window.addEventListener('resize',handleWindowResize)\n       window.addEventListener('click',hideSideNav)\n\n       return ()=>{\n           window.removeEventListener('resize',handleWindowResize)\n           window.removeEventListener('click',hideSideNav)\n\n       }\n\n   },[])\n\n   const updateAdminPanelSection=(adminPanelSection)=>{\n       setAdminPanelSection(adminPanelSection);\n       console.log(\"location changes: \",adminPanelSection )\n   }\n  \n\n   const toggleSideNav = ()=>{\n       setIsSidePanelVisible(!isSidePanelVisible);\n   }\n\n   \n   return <div>\n\n\n       {(adminPanelSection.includes(\"?adminPanel\") || adminPanelSection===\"\")\n           ?<div>\n               <AdminNav toggleSideNav = {toggleSideNav} updateAdminPanelSection={updateAdminPanelSection}/>\n               <div className=\"d-flex position-relative w-100\" style={{height:\"100vh\"}}>\n                   {\n                       isSidePanelVisible &&\n                       <AdminSidePanel \n                       updateAdminPanelSection={updateAdminPanelSection}\n                       toggleSideNav = {toggleSideNav}\n                       />\n                   }\n                   \n\n                   <div className=\"position-absolute col-12 col-lg-9 col-xl-10 d-flex justify-content-center\" id=\"adminPanelMainContent\"\n                       style={{top:\"60px\"}}\n                   >\n                       \n                       \n                       {(adminPanelSection === \"\")&&<AdminHome />}\n                       \n                       {(adminPanelSection === \"?adminPanel=stats\")&&<AdminStats/>}\n                       \n                       {(adminPanelSection===\"?adminPanel=posts\"|| adminPanelSection===\"?adminPanel=posts/drafts\" || adminPanelSection.includes(\"?adminPanel=posts&category=\"))\n                       &&<AdminAllPosts updateAdminPanelSection={updateAdminPanelSection}/>}\n                       \n                       {(adminPanelSection === \"?adminPanel=posts/categories\")&&<AdminPostsCategories updateAdminPanelSection={updateAdminPanelSection}/>}\n                       \n                       {(adminPanelSection === \"?adminPanel=comments\")&&<AdminComments/>}\n                       \n                       {(adminPanelSection === \"?adminPanel=users\")&&<AdminUsersDisplay/>}\n\n                       {(adminPanelSection === \"?adminPanel=subscribers\")&&<AdminSubscribersDisplay/>}\n\n                   </div>\n               </div>\n           </div>\n           :<ReadersHome updateAdminPanelSection={updateAdminPanelSection}/>\n       }\n       \n   </div>\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}