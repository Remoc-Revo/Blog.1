{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import MainNav from\"../navs/mainNav\";import api from\"../config/api\";import{useLocation,useNavigate}from\"react-router-dom\";import moment from\"moment\";import parse from\"html-react-parser\";import Footer from\"../components/footer\";import Related from\"../components/more\";import{useUserContext}from\"../userContext\";import Delete from\"../img/delete.png\";import Edit from\"../img/edit.png\";import{logVisitor}from\"../reusables/global\";import draftToHtml from'draftjs-to-html';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faStar,faUser}from\"@fortawesome/free-solid-svg-icons\";import{faStar as farStar}from\"@fortawesome/free-regular-svg-icons\";import Comments from\"../components/comments\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Single(){var[article,setArticle]=useState([]);const[articleBody,setArticleBody]=useState('');const location=useLocation();const navigate=useNavigate();const articleId=location.pathname.split('/')[2];const{user}=useUserContext();const[deleting,setDeleting]=useState(false);const[likes,setLikes]=useState(null);const queryParams=new URLSearchParams(location.search);const scrollToId=queryParams.get('scrollTo');useEffect(()=>{api.get(\"/single/\".concat(articleId)).then(response=>{console.log(\"response of single  req::\",response);setArticle(response.data.article[0]);const fetchedArticleBody=response.data.article[0].articleBody;const parsedArticleBody=JSON.parse(fetchedArticleBody);const htmlArticleBody=draftToHtml(parsedArticleBody);setArticleBody(htmlArticleBody);setLikes(response.data.likes);}).catch(err=>{console.log(\"get single article error\",err);});},[articleId,article.multimediaUrl]);useEffect(()=>{logVisitor(\"/single/\".concat(articleId));},[articleId]);useEffect(()=>{const timer=setTimeout(()=>{if(scrollToId){const element=document.getElementById(scrollToId);if(element){element.scrollIntoView({behavior:'smooth'});}}},1000);return()=>clearTimeout(timer);},[scrollToId]);function decodeString(str){const htmlString=decodeURIComponent(str);// .replace(/&apos;/g,\"'\")\n// .replace(/<p>/g,\"\")\n// .replace(/<\\/p>/g,\"\")\n// .replace(/<br>/,)\nreturn parse(htmlString);}function navigateToUpdate(){try{navigate(\"/articlePosting/\".concat(article.articleId));}catch(err){console.log(\"navigateToUpdate error:\",err);}}function deleteArticle(){if(window.confirm(\"Are you sure you want to delete the article: '\".concat(decodeString(article.articleHeadline),\"' ?\"))){setDeleting(true);api.delete(\"/article/\".concat(article.articleId),{withCredentials:true,imgUrl:article.multimediaUrl}).then(response=>{if(response.status===200){setDeleting(false);navigate('/');}}).catch(err=>{if(err.response&&err.response.status===401){setDeleting(false);navigate('/login');}});}}function like(){if(user!==null&&user.userId){api.post('/like',{articleId:articleId,commentId:null}).then(response=>{setLikes(response.data.updatedLikes);}).catch(err=>{console.log(err);});}else{window.alert(\"You need to login first to respond to this post\");}}const hasLiked=()=>{for(let like of likes){if(user!==null&&user.userId===like.userId){return true;}}return false;};return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(MainNav,{}),article.length!==0?/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 bg-light \",children:/*#__PURE__*/_jsx(\"div\",{className:\"container p-3 p-sm-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-lg-flex justify-content-center gap-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-9  p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-9 mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center headline\",children:decodeString(article.articleHeadline)}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 pb-2 mb-2  d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" d-flex gap-3 align-items-center\",children:[article.publisherPhotoUrl!==null?/*#__PURE__*/_jsx(\"div\",{style:{width:\"50px\",height:\"50px\"},children:/*#__PURE__*/_jsx(\"img\",{src:article.publisherPhotoUrl,className:\"rounded-circle w-100 h-100 object-fit-cover\",alt:\"\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle overflow-hidden\",style:{width:\"50px\",height:\"50px\"},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUser,className:\"rounded-circle w-100 h-100 pt-2\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2 d-md-flex gap-5\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"teal\",fontWeight:\"bold\"},children:article.publisherName}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-lighter\",children:article.articleUpdatingDate!==null?\"Updated  \"+moment(article.articleUpdatingDate).fromNow():\"Published \".concat(moment(article.articlePostingDate).fromNow(),\" \")})]})]}),user!==null&&user.userLevel===1?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:Edit,alt:\"\",onClick:navigateToUpdate,className:\"edit-img\"}),deleting?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-light\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Loading\"})}):/*#__PURE__*/_jsx(\"img\",{src:Delete,alt:\"\",onClick:deleteArticle,className:\"delete-img\"})]}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-lg p-0\",id:\"single-article-body\",children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:articleBody},className:\"mt-2\"})}),/*#__PURE__*/_jsx(\"div\",{className:\" mt-5\",children:/*#__PURE__*/_jsx(\"hr\",{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-lg-4 d-flex justify-content-between align-items-center\",children:[likes!==null&&hasLiked()?/*#__PURE__*/_jsxs(\"button\",{className:\"btn border no-focus-outline rounded-0 d-flex gap-3 align-items-center\",onClick:like,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,className:\"ic-teal\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Liked\"})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"btn border rounded-0 d-flex gap-3 align-items-center\",onClick:like,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:farStar}),/*#__PURE__*/_jsx(\"span\",{children:\"Like\"})]}),likes!==null&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"14px\"},children:likes.length>0?/*#__PURE__*/_jsxs(\"span\",{children:[\" Liked by \",likes.length,likes.length>1?\" People \":\" Person \"]}):/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"12px\"},children:\"Be the first to like\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 border mt-5 p-5 d-sm-flex gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-sm-9 d-flex flex-column justify-content-center\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Published by \",article.publisherName]}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-lighter\",style:{fontSize:\"13px\"},children:article.publisherDescription})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-sm-3  d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\" rounded-circle overflow-hidden\",style:{width:\"120px\",height:\"120px\"},children:article.publisherPhotoUrl!==null?/*#__PURE__*/_jsx(\"img\",{src:article.publisherPhotoUrl,alt:\"\",className:\"w-100 h-100 object-fit-cover\"}):/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUser,className:\"pt-2 h-100 w-100 ic-grey\"})})})]}),/*#__PURE__*/_jsx(Related,{cat:article.sectionName,current:article.articleId}),/*#__PURE__*/_jsx(Comments,{articleId:article.articleId})]})})})})}):\"\",/*#__PURE__*/_jsx(Footer,{})]});}","map":{"version":3,"names":["React","useState","useEffect","MainNav","api","useLocation","useNavigate","moment","parse","Footer","Related","useUserContext","Delete","Edit","logVisitor","draftToHtml","FontAwesomeIcon","faStar","faUser","farStar","Comments","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Single","article","setArticle","articleBody","setArticleBody","location","navigate","articleId","pathname","split","user","deleting","setDeleting","likes","setLikes","queryParams","URLSearchParams","search","scrollToId","get","concat","then","response","console","log","data","fetchedArticleBody","parsedArticleBody","JSON","htmlArticleBody","catch","err","multimediaUrl","timer","setTimeout","element","document","getElementById","scrollIntoView","behavior","clearTimeout","decodeString","str","htmlString","decodeURIComponent","navigateToUpdate","deleteArticle","window","confirm","articleHeadline","delete","withCredentials","imgUrl","status","like","userId","post","commentId","updatedLikes","alert","hasLiked","className","children","length","publisherPhotoUrl","style","width","height","src","alt","icon","color","fontWeight","publisherName","articleUpdatingDate","fromNow","articlePostingDate","userLevel","onClick","id","dangerouslySetInnerHTML","__html","fontSize","publisherDescription","cat","sectionName","current"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/pages/single.jsx"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\n import MainNav from \"../navs/mainNav\";\n import api from \"../config/api\";\n import { useLocation, useNavigate} from \"react-router-dom\";\n import moment from \"moment\";\n import parse from \"html-react-parser\"\n import Footer from \"../components/footer\";\n import Related from \"../components/more\";\n import { useUserContext } from \"../userContext\";\n import Delete from \"../img/delete.png\";\n import Edit from \"../img/edit.png\";\n import { logVisitor } from \"../reusables/global\";\n import draftToHtml from 'draftjs-to-html';\n import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n import { faStar, faUser } from \"@fortawesome/free-solid-svg-icons\";\n import { faStar as farStar } from \"@fortawesome/free-regular-svg-icons\";\n import Comments from \"../components/comments\";\n \n export default function Single(){\n     var [article,setArticle]=useState([]);\n     const [articleBody, setArticleBody] = useState('');\n     const location=useLocation();\n     const navigate = useNavigate();\n     const articleId=location.pathname.split('/')[2];\n     const {user} = useUserContext();\n     const [deleting, setDeleting] = useState(false);\n     const [likes,setLikes] = useState(null);\n     const queryParams = new URLSearchParams(location.search);\n     const scrollToId =  queryParams.get('scrollTo');\n \n    \n \n \n     useEffect(()=>{\n         api.get(`/single/${articleId}`)\n              .then((response)=>{\n                 console.log(\"response of single  req::\",response)\n                 setArticle(response.data.article[0]) ;\n                 \n                 const fetchedArticleBody = response.data.article[0].articleBody;\n                 const parsedArticleBody = JSON.parse(fetchedArticleBody);\n                 \n                 const htmlArticleBody = draftToHtml(parsedArticleBody);\n \n                 setArticleBody(htmlArticleBody);\n                 setLikes(response.data.likes)\n \n             })\n             .catch((err)=>{\n                 console.log(\"get single article error\",err)\n             });\n \n          \n     },[articleId,article.multimediaUrl])\n \n \n     useEffect(()=>{\n         logVisitor(`/single/${articleId}`);\n        },[articleId])\n \n     useEffect(()=>{\n         const timer = setTimeout(()=>{\n             if(scrollToId){\n                 const element = document.getElementById(scrollToId);\n                 if(element){\n                     element.scrollIntoView({behavior:'smooth'});\n                 }\n             }\n         }, 1000)\n \n         return () => clearTimeout(timer)\n         \n     },[scrollToId])\n \n     function decodeString(str){\n         const htmlString= decodeURIComponent(str)\n                     // .replace(/&apos;/g,\"'\")\n                     // .replace(/<p>/g,\"\")\n                     // .replace(/<\\/p>/g,\"\")\n                     // .replace(/<br>/,)\n \n         return parse(htmlString);\n     }\n \n     function navigateToUpdate(){\n         try{\n     \n             navigate(`/articlePosting/${article.articleId}`);\n                     \n         }\n         catch(err){\n             console.log(\"navigateToUpdate error:\", err)\n         }\n        \n     }\n \n     function deleteArticle(){\n \n         if(window.confirm(`Are you sure you want to delete the article: '${decodeString(article.articleHeadline)}' ?`)){\n             setDeleting(true);\n \n             api.delete(`/article/${article.articleId}`,\n                 {withCredentials:true,\n                 imgUrl: article.multimediaUrl\n             })\n             .then((response)=>{\n                     if(response.status === 200){\n                         setDeleting(false);\n                         navigate('/')\n                     }\n             })\n             .catch((err)=>{\n                     if(err.response && err.response.status === 401){\n                         setDeleting(false);\n                         navigate('/login');\n                     }\n             })\n \n         }\n         \n     }  \n     \n     \n     function like(){\n         if(user !==null  && user.userId)\n         {    api.post('/like',{articleId : articleId,commentId: null})\n                 .then((response)=>{\n                     setLikes(response.data.updatedLikes)\n                 })\n                 .catch((err)=>{\n                     console.log(err);\n                 })\n         }\n         else{\n             window.alert(`You need to login first to respond to this post`);\n         }\n     }\n \n     const hasLiked = ()=>{\n         for(let like of likes){\n             if(user !== null && user.userId === like.userId){\n                 return true;\n             }\n         }\n         return false;\n     }\n \n \n     return(\n         <div className=\"\">\n             <MainNav/>\n             \n             \n             {(article.length!==0)\n                 ?<div className=\"pt-3 bg-light \">\n                     <div className=\"container p-3 p-sm-0\">\n                         \n                         <div className=\"d-lg-flex justify-content-center gap-3\">\n                             <div className=\"col-12 col-lg-9  p-0\">\n                                 <div className=\"col-xl-9 mt-3\">\n                                     <h2 className=\"text-center headline\">{decodeString(article.articleHeadline)}</h2>\n                                     <div className=\"pt-2 pb-2 mb-2  d-flex justify-content-between align-items-center\">\n                                         \n                                         <div className=\" d-flex gap-3 align-items-center\">\n                                             {\n                                                 article.publisherPhotoUrl !== null\n                                                 ?<div style={{width:\"50px\",height:\"50px\"}}>                                                                                           \n                                                     <img src={article.publisherPhotoUrl}\n                                                         className=\"rounded-circle w-100 h-100 object-fit-cover\"\n                                                         alt=\"\"\n                                                     />\n                                                 </div>\n \n                                                 :<div className=\"rounded-circle overflow-hidden\" style={{width:\"50px\",height:\"50px\"}}>\n                                                     <FontAwesomeIcon icon={faUser} className=\"rounded-circle w-100 h-100 pt-2\"/>\n                                                 </div>\n                                             }\n \n                                             <div className=\"pt-2 d-md-flex gap-5\">                                        \n                                                 <span style={{color:\"teal\",fontWeight:\"bold\"}}>{article.publisherName}</span>\n                                                 <p className=\"fw-lighter\">                                           \n                                                     {(article.articleUpdatingDate !== null)\n                                                         ? \"Updated  \"+moment(article.articleUpdatingDate).fromNow() \n                                                         :  `Published ${moment(article.articlePostingDate).fromNow()} `\n                                                         \n                                                     } \n                                         \n                                                 </p>\n                                             </div>\n                                         </div>    \n                                         \n                                         {(user !== null && user.userLevel === 1)\n                                             ? <div className=\"d-flex gap-2\">\n                                                 <img src={Edit} alt =\"\" onClick={navigateToUpdate} className=\"edit-img\"/>\n                                                 {(deleting)\n                                                     ?<div className=\"spinner-border text-light\">\n                                                         <span className=\"sr-only\">Loading</span>\n                                                     </div>\n                                                     :<img src={Delete} alt =\"\" onClick={deleteArticle} className=\"delete-img\"/>\n                                                 }\n                                                 </div>\n                                             : <></>\n                                         }\n                                         \n                                     </div>\n \n                                     {/* <div className=\"w-100\" style={{height:\"430px\",overflow:\"hidden\"}}>\n                                         {\n                                         \n                                             (fetchedImgUrl!=='null')\n                                                 ?<img src={fetchedImgUrl} alt=\"article img\"\n                                                 className=\"rounded object-fit-cover img-fluid\"\n                                                 style={{display:\"block\",width:\"100%\",height:\"100%\"}}/>\n                                                 :null\n                                         }\n                                     </div> */}\n     \n                                     <div className=\"container-lg p-0\" id=\"single-article-body\">              \n                                         <div \n                                             dangerouslySetInnerHTML={{__html:articleBody}}\n                                             className=\"mt-2\" >                                      \n                                         </div>\n                                     </div>\n \n                                     <div className=\" mt-5\">\n                                         <hr/>\n \n                                     </div>\n \n                                     <div className=\"col-md-6 col-lg-4 d-flex justify-content-between align-items-center\">\n                                         {\n                                             (likes!==null && hasLiked())\n                                             ?<button className=\"btn border no-focus-outline rounded-0 d-flex gap-3 align-items-center\"\n                                                 onClick={like}\n                                                 >\n                                                 <FontAwesomeIcon icon={faStar} className=\"ic-teal\"/>\n                                                 <span>Liked</span>\n                                             </button>\n                                             :<button className=\"btn border rounded-0 d-flex gap-3 align-items-center\"\n                                                 onClick={like}\n                                                 >\n                                                 <FontAwesomeIcon icon={farStar}/>\n                                                 <span>Like</span>\n                                             </button>\n                                         }\n                                         \n \n                                         {\n                                             (likes!==null)&&\n                                             <div style={{fontSize:\"14px\"}}>\n                                                 {\n                                                     likes.length>0\n                                                     ? <span> Liked by {likes.length} \n                                                         {likes.length > 1 ? \" People \" : \" Person \"}\n                                                     </span>\n                                                     : <span style={{fontSize:\"12px\"}}>Be the first to like</span>\n                                                 }\n                                             </div>\n                                         }\n                                     </div>\n \n                                     <div className=\"col-12 border mt-5 p-5 d-sm-flex gap-3\">\n                                         <div className=\"col-12 col-sm-9 d-flex flex-column justify-content-center\">\n                                             <h6>Published by {article.publisherName}</h6>\n                                             <p className=\"fw-lighter\" style={{fontSize:\"13px\"}}>\n                                                 {article.publisherDescription}\n                                             </p>\n                                         </div>\n                                         <div className=\"col-12 col-sm-3  d-flex justify-content-center\">\n                                             <div className=\" rounded-circle overflow-hidden\" style={{width:\"120px\",height:\"120px\"}}>\n                                                 {\n                                                     article.publisherPhotoUrl !== null\n                                                     ?<img src={article.publisherPhotoUrl} alt=\"\"\n                                                         className=\"w-100 h-100 object-fit-cover\"\n                                                     />\n                                                     :<FontAwesomeIcon icon={faUser} className=\"pt-2 h-100 w-100 ic-grey\"/>\n                                                 }\n                                             </div>\n                                         </div>\n                                     </div>\n \n                                     <Related cat={article.sectionName} current={article.articleId} />\n \n \n                                     <Comments articleId={article.articleId}/>\n                                 </div>\n                                 \n \n \n                             </div>\n                             \n                             \n                             \n                         </div>\n \n                     </div>\n \n \n                    \n                 </div>\n                 :\"\"\n \n             }\n            \n             \n            \n             \n             <Footer/>\n         </div>\n     )\n }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}