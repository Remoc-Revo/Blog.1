{"ast":null,"code":"var _jsxFileName = \"/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/components/comments.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../config/api\";\nimport { UseUserContext } from \"../userContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar, faReply, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStar as farStar } from \"@fortawesome/free-regular-svg-icons\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Comments = /*#__PURE__*/_s( /*#__PURE__*/React.memo(_c = _s(({\n  articleId\n}) => {\n  _s();\n  const navigate = useNavigate();\n  let [newComment, set_newComment] = useState();\n  let [comments, set_comments] = useState();\n  let [newReply, set_newReply] = useState('');\n  let [activeButtonKey, set_activeButtonKey] = useState(-1);\n  let [likes, set_likes] = useState();\n  let [userId, setUserId] = useState();\n  let [userName, setUserName] = useState();\n  let [userProfilePhoto, setUserProfilePhoto] = useState(null);\n  const {\n    loading,\n    user\n  } = UseUserContext();\n  const fetchComments = useCallback(() => {\n    api.get(`/comments/${articleId}`, {\n      withCredentials: true\n    }).then(response => {\n      set_likes(response.data.likes);\n      set_comments(response.data.comments);\n    });\n  }, [articleId]);\n  useEffect(() => {\n    fetchComments();\n    if (!loading && user != null) {\n      console.log(\"user context!!!!\", user);\n      setUserId(user.userId);\n      setUserName(user.userName);\n      setUserProfilePhoto(user.userProfilePhoto);\n    }\n  }, [fetchComments, articleId, loading, user]);\n  const handleReplyButtonClick = (e, key) => {\n    e.stopPropagation();\n    set_newReply('');\n    set_activeButtonKey(key);\n  };\n  const handleOutsideClick = () => {\n    set_activeButtonKey(-1);\n  };\n  const handleInputClick = e => {\n    e.stopPropagation();\n  };\n  const updateLikes = updatedLikes => {\n    set_likes(updatedLikes);\n  };\n  function addComment(e) {\n    e.preventDefault();\n    api.post('/addComment', {\n      withCredentials: true,\n      comment: newComment,\n      articleId: articleId\n    }).then(response => {\n      if (response.status === 201) {\n        set_newComment('');\n        fetchComments();\n      }\n    }).catch(err => {\n      console.log(\"the errr\", err.response.status);\n      if (err.response.status === 401) {\n        navigate('/login');\n      }\n    });\n  }\n  function sendReply(parentId) {\n    if (newReply === '') return;\n    api.post('/reply', {\n      articleId: articleId,\n      parentId: parentId,\n      reply: newReply\n    }).then(response => {\n      if (response.status === 201) {\n        fetchComments();\n      }\n    });\n  }\n  function checkLogin() {\n    return userId === undefined && window.alert('Login to add comment');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    onClick: handleOutsideClick,\n    children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), typeof comments !== 'undefined' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12  text-start\",\n      children: /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: `${comments.length} ${comments.length === 1 ? \"Comment\" : \"Comments\"}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), comments !== undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(Comment, {\n          articleId: articleId,\n          comment: comment,\n          newReply: newReply,\n          set_newReply: set_newReply,\n          sendReply: sendReply,\n          handleReplyButtonClick: handleReplyButtonClick,\n          handleInputClick: handleInputClick,\n          updateLikes: updateLikes,\n          activeButtonKey: activeButtonKey,\n          likes: likes,\n          userId: userId,\n          userName: userName,\n          userProfilePhoto: userProfilePhoto\n        }, comment.commentId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 36\n        }, this);\n      })\n    }, \"comments\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"mt-4 mb-1\",\n      children: \"Leave a comment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addComment,\n      className: \"border\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"col-12 p-3 mb-0\",\n        rows: 5,\n        placeholder: \"Write a comment...\",\n        onInput: checkLogin,\n        value: newComment,\n        onChange: e => set_newComment(e.target.value),\n        required: true,\n        style: {\n          border: \"none\",\n          borderBottom: \"1px solid lightgrey\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-end m-0 p-0\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Comment\",\n          className: \"btn rounded-0 m-2\",\n          style: {\n            border: \"1px solid lightgrey\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n}, \"d+bPjeLjQiHwynZAlPtNoWwZnC8=\", false, function () {\n  return [useNavigate];\n})), \"d+bPjeLjQiHwynZAlPtNoWwZnC8=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Comments;\nfunction Comment({\n  articleId,\n  comment,\n  sendReply,\n  newReply,\n  set_newReply,\n  handleReplyButtonClick,\n  handleInputClick,\n  updateLikes,\n  activeButtonKey,\n  likes,\n  userId,\n  userName,\n  userProfilePhoto\n}) {\n  const key = comment.commentId;\n  function likeSum(commentId, value) {\n    let sum = 0;\n    for (var like of likes) {\n      if (like.commentId === commentId && like.value === value) sum++;\n    }\n    return sum > 0 ? sum : '';\n  }\n  const hasLiked = commentId => {\n    for (let like of likes) {\n      if (like.commentId === commentId && like.value === 1 && userId === like.userId) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const hasReplied = () => {\n    return comment.replies && comment.replies.some(reply => {\n      return userId === reply.userId;\n    });\n  };\n  function loginAlert() {\n    return window.alert(`You need to login first to respond to this post`);\n  }\n  function formatDateTime(date) {\n    date = new Date(date);\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    const ampm = hours > 12 ? 'pm' : 'am';\n    hours = hours % 12;\n    hours = hours ? hours : 12; //convert hour '0' to 12\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    const timeStr = hours + ':' + minutes + ' ' + ampm;\n    const dateStr = new Intl.DateTimeFormat('en-US', {\n      month: 'long',\n      day: 'numeric',\n      year: 'numeric'\n    }).format(date);\n    const dateTimeStr = dateStr + ' at ' + timeStr;\n    return dateTimeStr;\n  }\n  function like(articleId, commentId) {\n    api.post('/like', {\n      commentId: commentId,\n      articleId: articleId\n    }).then(response => {\n      updateLikes(response.data.updatedLikes);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `pt-2 d-flex gap-3 ${comment.parentCommentId === null ? 'border-bottom' : ''}`,\n    id: `comment${comment.commentId}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: comment.commenterProfilePhoto !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"40px\",\n          height: \"40px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: comment.commenterProfilePhoto,\n          className: \"rounded-circle w-100 h-100 object-fit-cover\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-circle overflow-hidden\",\n        style: {\n          width: \"40px\",\n          height: \"40px\",\n          backgroundColor: \"lightgrey\"\n        },\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faUser,\n          className: \"ic-white rounded-circle w-100 h-100 pt-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 22\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" d-flex flex-column gap-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontWeight: \"400\",\n          fontSize: \"12px\"\n        },\n        children: comment.comment_userName.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"\",\n        style: {\n          color: \"grey\",\n          fontSize: \"11px\"\n        },\n        children: formatDateTime(comment.dateAdded)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-3\",\n        style: {\n          fontWeight: \"300\",\n          fontSize: \"12px\"\n        },\n        children: comment.comment\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn border-0 no-focus-outline\",\n              onClick: userId === undefined ? () => loginAlert() : () => like(articleId, key),\n              title: \"Like\",\n              children: [hasLiked(comment.commentId) ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faStar,\n                className: \"ic-response ic-teal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 38\n              }, this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: farStar,\n                className: \"ic-response ic-grey\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icon-label\",\n                children: likeSum(key, 1)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: userId === undefined ? () => loginAlert() : e => handleReplyButtonClick(e, key),\n            title: \"Reply\",\n            children: [hasReplied() ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faReply,\n              className: \"ic-response ic-teal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 34\n            }, this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faReply,\n              className: \"ic-grey ic-response\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon-label\",\n              children: comment.replies && comment.replies.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), activeButtonKey === key && userName !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: userProfilePhoto !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: \"50px\",\n                height: \"50px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: userProfilePhoto,\n                className: \"rounded-circle w-100 h-100 object-fit-cover\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-circle overflow-hidden\",\n              style: {\n                width: \"50px\",\n                height: \"50px\",\n                backgroundColor: \"lightgrey\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faUser,\n                className: \"ic-white rounded-circle w-100 h-100 pt-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 42\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 34\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ms-2 fw-bolder \",\n            children: userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 col-12 mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 2,\n              className: \"col-12 p-2 \",\n              value: newReply,\n              onChange: e => set_newReply(e.target.value),\n              onClick: handleInputClick\n            }, ['reply', key].join('_'), false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-light\",\n              onClick: () => sendReply(comment.commentId),\n              children: \"send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 29\n        }, this), comment.replies && comment.replies.map(reply => {\n          return /*#__PURE__*/_jsxDEV(Comment, {\n            articleId: articleId,\n            comment: reply,\n            newReply: newReply,\n            set_newReply: set_newReply,\n            sendReply: sendReply,\n            handleReplyButtonClick: handleReplyButtonClick,\n            handleInputClick: handleInputClick,\n            updateLikes: updateLikes,\n            activeButtonKey: activeButtonKey,\n            likes: likes,\n            userId: userId,\n            userName: userName,\n            userProfilePhoto: userProfilePhoto\n          }, reply.commentId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 36\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 9\n  }, this);\n}\n_c3 = Comment;\nexport default Comments;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Comments$React.memo\");\n$RefreshReg$(_c2, \"Comments\");\n$RefreshReg$(_c3, \"Comment\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","api","UseUserContext","FontAwesomeIcon","faStar","faReply","faUser","farStar","jsxDEV","_jsxDEV","Fragment","_Fragment","Comments","_s","memo","_c","articleId","navigate","newComment","set_newComment","comments","set_comments","newReply","set_newReply","activeButtonKey","set_activeButtonKey","likes","set_likes","userId","setUserId","userName","setUserName","userProfilePhoto","setUserProfilePhoto","loading","user","fetchComments","get","withCredentials","then","response","data","console","log","handleReplyButtonClick","e","key","stopPropagation","handleOutsideClick","handleInputClick","updateLikes","updatedLikes","addComment","preventDefault","post","comment","status","catch","err","sendReply","parentId","reply","checkLogin","undefined","window","alert","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","Comment","commentId","onSubmit","rows","placeholder","onInput","value","onChange","target","required","style","border","borderBottom","type","_c2","likeSum","sum","like","hasLiked","hasReplied","replies","some","loginAlert","formatDateTime","date","Date","hours","getHours","minutes","getMinutes","ampm","timeStr","dateStr","Intl","DateTimeFormat","month","day","year","format","dateTimeStr","parentCommentId","id","commenterProfilePhoto","width","height","src","alt","backgroundColor","icon","fontWeight","fontSize","comment_userName","toUpperCase","color","dateAdded","title","join","_c3","$RefreshReg$"],"sources":["/home/remoc-revo/Desktop/git_repo/Blog.1/client/src/components/comments.jsx"],"sourcesContent":["import React,{useState,useEffect, useCallback} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../config/api\";\nimport { UseUserContext } from \"../userContext\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faStar, faReply,faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport  { faStar as farStar} from \"@fortawesome/free-regular-svg-icons\";\n\nconst Comments=React.memo(({articleId})=>{\n    const navigate=useNavigate();\n    let [newComment,set_newComment]=useState();\n    let [comments,set_comments]=useState();\n    let [newReply,set_newReply]=useState('');\n    let [activeButtonKey,set_activeButtonKey]=useState(-1);\n    let [likes,set_likes]=useState();\n    let [userId, setUserId]=useState();\n    let [userName, setUserName] = useState();\n    let [userProfilePhoto, setUserProfilePhoto] = useState(null);\n    const {loading,user} = UseUserContext();\n\n\n    const fetchComments = useCallback(()=>{\n        api.get(`/comments/${articleId}`,{withCredentials:true})\n            .then((response)=>{\n            set_likes(response.data.likes)\n            set_comments(response.data.comments);\n            }) \n    },[articleId] )      \n\n    useEffect(()=>{\n        fetchComments();\n        \n        if(!loading && user != null){\n            console.log(\"user context!!!!\",user);\n            setUserId(user.userId);\n            setUserName(user.userName);\n            setUserProfilePhoto(user.userProfilePhoto);\n        }\n    },[fetchComments,articleId,loading,user])\n    \n    const handleReplyButtonClick=(e,key)=>{\n        e.stopPropagation();\n        set_newReply('');\n        set_activeButtonKey(key)\n    }\n\n    const handleOutsideClick=()=>{\n        set_activeButtonKey(-1);\n    }\n\n    const handleInputClick=(e)=>{\n        e.stopPropagation();\n    }\n\n    const updateLikes = (updatedLikes)=>{\n        set_likes(updatedLikes);\n    }\n\n\n    function addComment(e){\n        e.preventDefault();\n        \n        api.post('/addComment',\n             {\n                withCredentials:true,\n                comment:newComment,\n                articleId:articleId\n            })\n             .then((response)=>{\n                if(response.status===201){\n                    set_newComment('');\n                    fetchComments();\n                }\n             })\n             .catch((err)=>{\n                console.log(\"the errr\",err.response.status)\n                if(err.response.status===401){\n                    navigate('/login');\n                }\n             })\n    }\n\n    function sendReply(parentId){\n        if(newReply === '') return;\n\n        api.post('/reply',\n            {\n                articleId:articleId,\n                parentId: parentId,\n                reply: newReply\n            })\n            .then((response)=>{\n                if(response.status===201){\n                    fetchComments();\n                }\n            })\n            \n\n    }\n\n    function checkLogin(){\n        return (userId === undefined) && window.alert('Login to add comment');\n    }\n\n\n\n    return(\n        <div className=\"mb-4\" onClick={handleOutsideClick}>\n            <hr/>\n\n            {typeof comments!=='undefined' && \n            <div className=\"col-12  text-start\">\n                <h5>{`${comments.length} ${(comments.length === 1) ? \"Comment\" : \"Comments\"}`}</h5>\n            </div>}\n\n            \n            {(comments!==undefined)\n                ?<div className=\"mt-4\" key=\"comments\">\n                    {\n                        comments.map(comment=>{\n                            return <Comment articleId={articleId}\n                                            comment={comment} \n                                            key={comment.commentId}\n                                            newReply={newReply} \n                                            set_newReply={set_newReply}\n                                            sendReply={sendReply}\n                                            handleReplyButtonClick={handleReplyButtonClick}\n                                            handleInputClick={handleInputClick}\n                                            updateLikes = {updateLikes}\n                                            activeButtonKey={activeButtonKey}\n                                            likes={likes}\n                                            userId={userId}\n                                            userName={userName}\n                                            userProfilePhoto = {userProfilePhoto}\n                                    />\n                        })\n                    }\n                \n                </div>\n\n                :<></>\n            }\n\n            <label className=\"mt-4 mb-1\">Leave a comment</label>\n            <form onSubmit={addComment} className=\"border\">\n                <textarea className=\"col-12 p-3 mb-0\" rows={5} \n                    placeholder=\"Write a comment...\" onInput={checkLogin}\n                    value={newComment} onChange={(e)=>set_newComment(e.target.value)} required\n                    style={{border:\"none\",borderBottom:\"1px solid lightgrey\"}}\n                    />\n                \n                <div className=\"d-flex justify-content-end m-0 p-0\">\n                    <input type=\"submit\" value=\"Comment\" className=\"btn rounded-0 m-2\" \n                        style={{border:\"1px solid lightgrey\"}}\n                    />\n                </div>\n                \n            </form>\n            \n        </div>\n    )\n})\n\nfunction Comment({\n        articleId,\n        comment,\n        sendReply,\n        newReply,\n        set_newReply,\n        handleReplyButtonClick,\n        handleInputClick,\n        updateLikes,\n        activeButtonKey,\n        likes,\n        userId,\n        userName,\n        userProfilePhoto\n    }){\n    const key=comment.commentId;\n\n    function likeSum(commentId,value){\n        let sum=0;\n        for(var like of likes){\n            if(like.commentId===commentId && like.value===value) sum++;\n        }\n        return (sum>0) ? sum : '';\n    }\n\n    const hasLiked = (commentId)=>{\n        for(let like of likes){\n            if(like.commentId === commentId  && like.value === 1 && userId === like.userId){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    const hasReplied = ()=>{ \n        return comment.replies && comment.replies.some((reply)=>{\n            return userId === reply.userId\n              \n        });        \n    }\n\n    function loginAlert(){\n        return window.alert(`You need to login first to respond to this post`);\n    }\n\n    function formatDateTime(date){\n        date = new Date(date);\n        let hours = date.getHours();\n        let minutes = date.getMinutes();\n        const ampm = hours > 12 ? 'pm' : 'am';\n        hours = hours % 12;\n        hours = hours ? hours : 12; //convert hour '0' to 12\n        minutes = minutes <  10 ? '0' + minutes : minutes;\n\n        const timeStr = hours + ':' + minutes + ' ' + ampm;\n        const dateStr =   new Intl.DateTimeFormat('en-US',{month:'long',day:'numeric',year:'numeric'}).format(date);\n        const dateTimeStr = dateStr + ' at ' + timeStr;\n\n\n        return dateTimeStr;\n\n      }\n\n      function like(articleId,commentId){\n        api.post('/like',{commentId:commentId, articleId : articleId})\n             .then((response)=>{\n                updateLikes(response.data.updatedLikes);\n             })\n             .catch((err)=>{\n                console.log(err);\n             })\n    }\n    \n\n    return(\n        <div className={`pt-2 d-flex gap-3 ${(comment.parentCommentId === null) ? 'border-bottom':''}`}\n            id={`comment${comment.commentId}`}\n            >\n            <div>\n                {\n                    (comment.commenterProfilePhoto !== null)\n                    ?<div style={{width:\"40px\",height:\"40px\"}}>                                                                                           \n                        <img src={comment.commenterProfilePhoto}\n                            className=\"rounded-circle w-100 h-100 object-fit-cover\"\n                            alt=\"\"\n                        />\n                    </div>\n\n                    :<div className=\"rounded-circle overflow-hidden\" \n                        style={{width:\"40px\",height:\"40px\", backgroundColor:\"lightgrey\"}}>\n                        <FontAwesomeIcon icon={faUser} className=\"ic-white rounded-circle w-100 h-100 pt-2\"/>\n                    </div>\n                }\n\n            </div>\n            \n            <div className=\" d-flex flex-column gap-1\">\n                <span style={{fontWeight:\"400\",fontSize:\"12px\"}}>{comment.comment_userName.toUpperCase()}</span>\n\n                <span className=\"\" style={{color:\"grey\",fontSize:\"11px\"}}>{formatDateTime(comment.dateAdded)}</span>\n\n                <p className=\"mt-3\" style={{fontWeight:\"300\",fontSize:\"12px\"}}>{comment.comment}</p>\n                <div className=\"\">\n                    <div className=\"d-flex\">\n                       <div className=\"\">\n                            <button className=\"btn border-0 no-focus-outline\" onClick={(userId === undefined) ? ()=>loginAlert() : ()=>like(articleId,key)} title=\"Like\">\n                                {hasLiked(comment.commentId)\n                                    ?<FontAwesomeIcon icon={faStar} className=\"ic-response ic-teal\"/>\n                                    :<FontAwesomeIcon icon={farStar} className=\"ic-response ic-grey\"/>\n                                }\n                                <span className=\"icon-label\">{likeSum(key,1)}</span>\n                            </button>\n                        </div>\n                        \n                        <button className=\"btn\" onClick={(userId === undefined) ? ()=>loginAlert() : (e)=>handleReplyButtonClick(e,key)} title=\"Reply\">\n                            {hasReplied()\n                                ?<FontAwesomeIcon icon={faReply} className=\"ic-response ic-teal\" />\n                                :<FontAwesomeIcon icon={faReply} className=\"ic-grey ic-response\" />\n                            }\n                            \n                            <span className=\"icon-label\">{comment.replies && comment.replies.length}</span>\n                        </button> \n                    </div>\n                    \n                    {\n                        (activeButtonKey===key) && (userName !== undefined) && (\n                            <div className=\"mt-3 \">\n                                 <div>\n                                    {\n                                        (userProfilePhoto !== null)\n                                        ?<div style={{width:\"50px\",height:\"50px\"}}>                                                                                           \n                                            <img src={userProfilePhoto}\n                                                className=\"rounded-circle w-100 h-100 object-fit-cover\"\n                                                alt=\"\"\n                                            />\n                                        </div>\n\n                                        :<div className=\"rounded-circle overflow-hidden\" \n                                            style={{width:\"50px\",height:\"50px\", backgroundColor:\"lightgrey\"}}>\n                                            <FontAwesomeIcon icon={faUser} className=\"ic-white rounded-circle w-100 h-100 pt-2\"/>\n                                        </div>\n                                    }\n\n                                </div>\n                                <span className=\"ms-2 fw-bolder \">{userName}</span>\n\n                                <div className=\"mt-2 col-12 mb-1\">\n                                    <textarea rows={2} className=\"col-12 p-2 \" key={['reply',key].join('_')} value={newReply} onChange={(e)=>set_newReply(e.target.value)}   onClick={handleInputClick} />\n                                    <button className=\"btn btn-light\" onClick={()=>sendReply(comment.commentId)}>send</button>                                  \n                                </div>\n                            </div>\n                        )\n                    }\n\n                    {\n                        comment.replies && comment.replies.map(reply=>{\n                            \n                            return <Comment articleId={articleId}\n                                            comment={reply} \n                                            key={reply.commentId} \n                                            newReply={newReply} \n                                            set_newReply={set_newReply}\n                                            sendReply={sendReply}\n                                            handleReplyButtonClick={handleReplyButtonClick}\n                                            handleInputClick={handleInputClick}\n                                            updateLikes = {updateLikes}\n                                            activeButtonKey={activeButtonKey}\n                                            likes={likes}\n                                            userId={userId}\n                                            userName={userName}\n                                            userProfilePhoto={userProfilePhoto}\n                                    />\n\n                        })\n                    }\n                \n                </div>\n            </div>\n            \n        </div>\n\n    )\n}\n\n\n\n\n\nexport default Comments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}